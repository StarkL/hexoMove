---
title: wap页面rem使用小结
date: 2017-06-22 16:27:07
tags:
---


刚入行的时候以为，写移动端页面，所有单位都用rem就好，然而，这样会遇到一个坑，当用户横屏的时候，会出现字体超级大，容器塞不下，样式根竖屏的时候比起来乱了很多。

想想实际应用场景：作为用户，希望无论横屏、竖屏，页面展示的样式尽可能一致，最起码字体大小别忽大忽小，然后大体样式变化尽可能小。

例如竖屏下这么一个页面：
![](https://ws1.sinaimg.cn/large/006tKfTcly1fgu0e7g1xgj30ze0juta6.jpg)

如果全部用rem写，横屏后是这样：
![](https://ws2.sinaimg.cn/large/006tKfTcly1fgu0c6w8f7j31040lu0uv.jpg)

而相对之下，用户更希望是这样：
![](https://ws2.sinaimg.cn/large/006tKfTcly1fgu0dcc7t6j31060fqwg0.jpg)

这里仅用一个简单展示，对比可以看出，页面单位全部用rem书写的话，会出现<strong> 字体、宽高、位置 </strong>都跟着发生了变化，从而使得整体布局超出想象。

对比之下，优化后的样式，同样发生了变化，但仅仅是容器的宽度跟着屏宽变大而变宽，字体大小、样式布局还都在承受范围内。

--- 
而要做到这个样子，
![](https://ws2.sinaimg.cn/large/006tKfTcly1fgu0dcc7t6j31060fqwg0.jpg)
就需要对rem的使用有所限制。

现在分析下代码原理，实现不同屏宽的响应，常用方法是通过js动态监听内置对象window的orientationchange事件，来判断用户是垂直翻转设备，进而根据最新屏宽clientWidth修改html根元素的font-size大小。

![](https://ws3.sinaimg.cn/large/006tKfTcly1fgu1ftihmzj30zi0f2adu.jpg)

　　而css中用的rem就是根据此font-size大小来计算出具体px单位，进行渲染。
  
既然屏幕的宽度在发生变化，那么理论上页面也应该进行 <b>宽度</b> 方面的调节才对。所以：
1. 字体大小、元素高度方面，没必要变；
2. 图片的宽高比例也不要变化；
3. 样式尽可能少的变化

![](https://ws3.sinaimg.cn/large/006tKfTcly1fgu1n6w5n9j31ju0co40e.jpg)

第1条很容易做到，字体大小和元素高度都用 <b>px</b> 单位就可以。

而第二条就需要做取舍：
1. 要想图片比例不变，简单的办法就是图片的宽和高仅设置一项，浏览器会根据图片原宽高比例和自己设置的一项计算出新的大小。
2. 如果图片根据屏幕宽度变宽而变大，那么它就会影响整体布局，所有相关元素都得发生样式变化。
3. 假如图片变大，高度撑起了它的容器，而它有一个兄弟元素是一段文字，那么就会出现![](https://ws2.sinaimg.cn/large/006tKfTcly1fgu1thy76bj30eu07u74p.jpg)这样的尴尬情况。
4. 而综合上面的结论，样式尽可能少的变化，
5. 所以这里只能舍弃图片变大，当屏幕宽度变宽时候，图片大小不变！

![](https://ws4.sinaimg.cn/large/006tKfTcly1fgu1xc9o7hj31020csmy1.jpg)

--- 
走到这里，结果就已经出来了。

能改变的只有宽度单位，和左右定位的属性，要用rem单位
不能改变的就是字体大小、高度单位和上下定位的单位，要用px单位

---
也有这样的解决办法：页面刚加载的时候，就获取设备宽度x和高度y，并给最外层容器例(如：body)设置max-width为x和y的较小者，并添加居中样式；

这样就算横屏了，仍然以竖屏的宽度显示。

<br/><br/><br/><br/>

如有高见，欢迎留言/联系。